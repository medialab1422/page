<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Hospitel Review System</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
        integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
</head>

<body>
    <div class="container py-5">
        <h1 class="display-4 mb-5">Hospitel Review System</h1>
        <hr>
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">Login</div>
                    <form id="createForm" class="card-body">
                        <div class="form-group">
                            <label for="">Username</label>
                            <input id="username" type="text" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="">Password</label>
                            <input id="password" type="password" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <a class="btn btn-primary" href="#" onclick="login()">Login</a>
                            <a class="btn btn-success" href="register.html">Register</a>
                        </div>
                    </form>
                </div>
            </div>
            <div class="col-md-3"></div>
        </div>
    </div>
</body>

</html>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2" crossorigin="anonymous"></script>

<script>

// READ DATA
user = localStorage.getItem('user');
user = JSON.parse(user);

for (i = 0; i < user.length; i++) {
    console.log(user[i]);
}

hospitel = localStorage.getItem('hospitel');
hospitel = JSON.parse(hospitel);

for (i = 0; i < hospitel.length; i++) {
    console.log(hospitel[i]);
}
// ----

function login () {
    username = $('#username').val();
    password = $('#password').val();
    check_login = 0;

    if (username == '' || password == '') {
        message = 'CANNOT LOGIN';
        alert(message);
        throw new Error(message);
    }

    for (i = 0; i < user.length; i++) {
        if (user[i][0] == username && user[i][1] == password) {
            alert('LOGIN COMPLETE');
            check_login = 1;

            if (user[i][2] == 'admin') {
                window.location.replace('manage.html');
            }

            if (user[i][2] == 'user') {
                window.location.replace('rating.html');
            }

            break;
        }
    }

    if (check_login == 0) {
        alert('CANNOT LOGIN');
    }
}

</script>
